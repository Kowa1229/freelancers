<%= form_for(@user) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>

  <%= f.label :fullname %>
  <%= f.text_field :fullname, class: 'form-control' %>

  <%= f.label :username %>
  <%= f.text_field :username, class: 'form-control' %>

  <%= f.label :city_id %>
  <%= f.collection_select(:city_id, City.all, :id, :name, class: 'form_control') %>

  <%= f.label :email %>
  <%= f.email_field :email, class: 'form-control' %>

  <%= f.label :password %>
  <%= f.password_field :password, class: 'form-control' %>

  <%= f.label :password_confirmation, "Confirmation" %>
  <%= f.password_field :password_confirmation, class: 'form-control' %>

  <span>Professionals</span>
  <% for category in Category.all %>
    <div class="checkbox_tag_input">
      <%= check_box_tag "user[category_ids][]", category.id, @user.categories.include?(category),
                        {:id => dom_id(category, dom_id(@user)) } %>
      <%= category.name %>
    </div>
  <% end %>

  <%= f.submit "Save changes", class: "btn btn-primary" %>
<% end %>